(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{239:function(t,e,n){"use strict";n.r(e);var a=n(0),s=Object(a.a)({},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"react-memo"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#react-memo","aria-hidden":"true"}},[t._v("#")]),t._v(" React.memo")]),t._v(" "),n("p",[t._v("✨ React v16.6.0 新增 memo 新特性 "),n("a",{attrs:{href:"https://reactjs.org/docs/react-api.html#reactmemo",target:"_blank",rel:"noopener noreferrer"}},[t._v("🇨🇳 中文文档"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("Class Component 可以通过继承类 "),n("code",[t._v("PureComponent")]),t._v(" 或者实现 "),n("code",[t._v("shouldComponentUpdate")]),t._v(" 来主动判断组件是否需要重新渲染，以此来提高性能，但是 Functional Component 到目前为止没有类似的功能。")]),t._v(" "),n("p",[t._v("这种方式依然是一种对象的浅比较，有复杂对象时无法重新渲染。")]),t._v(" "),n("h2",{attrs:{id:"使用指南"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用指南","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用指南")]),t._v(" "),n("div",{staticClass:"language-jsx extra-class"},[n("pre",{pre:!0,attrs:{class:"language-jsx"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("MyComponent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* render using props*/")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("areEqual")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("prevProps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nextProps")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*\n  return true if passing nextProps to render would return\n  the same result as passing prevProps to render,\n  otherwise return false\n  */")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" React"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("memo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("MyComponent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" areEqual"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("类似于 PureComponent 的高阶组件，外部包裹一层 memo，就能让普通函数式组件拥有 PureComponent 的性能优势。")]),t._v(" "),n("hr"),t._v(" "),n("p",[n("strong",[t._v("参考资料：")])]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://segmentfault.com/a/1190000015301672",target:"_blank",rel:"noopener noreferrer"}},[t._v("React 优化 记忆性技术 使用闭包提升你的 React 性能"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"http://www.ayqy.net/blog/react-16-6%E6%96%B0api/",target:"_blank",rel:"noopener noreferrer"}},[t._v("React 16.6 新 API"),n("OutboundLink")],1)])])])},[],!1,null,null,null);e.default=s.exports}}]);